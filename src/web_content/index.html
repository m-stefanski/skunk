<html>
  <head>
    <title>Skun.ks</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" /> 
    <link rel="stylesheet" type="text/css" href="style.css" media="screen"/>
    <link rel="icon" type="image/png" size="32x32" href="favicon.png" />
    <link rel="apple-touch-icon" href="favicon.png" />
  </head>  
  <body>
    <h1>Skun.ks</h1>
    <table>
      <tr class="theader">
        <td>Parameter</td>
        <td>Value</td>
      </tr>
      <tr>
        <td>Temperature</td>
        <td><span id="temp"></span>&#176;C</td>
      </tr>
      <tr>
        <td>Humidity</td>
        <td><span id="humid"></span>%</td>
      </tr>
      <tr>
        <td>Pressure</td>
        <td><span id="pres"></span> hPa</td>
      </tr>
    </table>
  </body>
  <script>
  function reload_data () {
    var xhr = new XMLHttpRequest();
    xhr.onreadystatechange = function(){
      if (xhr.readyState === 4){
        var params = JSON.parse(xhr.responseText);
        document.getElementById('temp').innerHTML = params.temperature;
        document.getElementById('humid').innerHTML = params.humidity;
        document.getElementById('pres').innerHTML = params.pressure;
      }
    };
    xhr.open('GET', '/sensors/');
    xhr.send();
  }
  setInterval(reload_data, 1000);
  </script>
</html>